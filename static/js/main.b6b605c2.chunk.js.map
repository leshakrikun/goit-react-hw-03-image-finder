{"version":3,"sources":["components/ImageGallery/imageGallery.module.css","components/Button/button.module.css","components/Searchbar/searchbar.module.css","components/Searchbar/searchbar.js","components/ImageGallery/imageGallery.js","components/ImageGalleryItem/imageGalleryItem.js","components/Fetch/fetch.js","components/Button/button.js","components/Modal/modal.js","App.js","index.js","components/ImageGalleryItem/imageGalleryItem.module.css","components/Modal/modal.module.css"],"names":["module","exports","Searchbar","handleSubmit","handleChange","className","s","searchbar","onSubmit","searchForm","type","searchFormButton","searchFormButtonLabel","searchFormInput","onChange","placeholder","ImageGallery","children","imageGallery","ImageGalleryItem","photos","onClick","map","state","imageGalleryItem","src","webformatURL","lowsrc","largeImageURL","alt","tags","imageGalleryItemImage","id","page","api","FetchPhoto","search","fetch","then","response","ok","json","resetPage","Button","button","modalRoot","document","querySelector","Modal","largeImage","createPortal","overlay","modal","App","errors","loading","showModal","handleKeyDown","e","code","toggleModal","handleMouseClick","target","tagName","setState","preventDefault","API","form","hits","catch","error","reset","value","onMoreClick","finally","window","scrollTo","top","documentElement","scrollHeight","behavior","handleOpenModal","currentTarget","addEventListener","this","removeEventListener","color","height","width","timeout","length","React","Component","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.b6b605c2.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"imageGallery_imageGallery__2gftv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"button_button__3kcfq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"searchbar_searchbar__2rpqY\",\"searchForm\":\"searchbar_searchForm__2mQCA\",\"searchFormButton\":\"searchbar_searchFormButton__9Hz2S\",\"searchFormButtonLabel\":\"searchbar_searchFormButtonLabel__jZk50\",\"searchFormInput\":\"searchbar_searchFormInput__3nsLK\"};","import React from 'react';\r\nimport s from './searchbar.module.css';\r\n\r\nfunction Searchbar ({handleSubmit,  handleChange})  {\r\n    return(\r\n        <header className={s.searchbar}>\r\n  <form onSubmit={handleSubmit} className={s.searchForm}>\r\n    <button type=\"submit\" className={s.searchFormButton}>\r\n      <span className={s.searchFormButtonLabel}>Search</span>\r\n    </button>\r\n    <input\r\n      className={s.searchFormInput}\r\n      type=\"text\"\r\n      onChange={handleChange} \r\n      placeholder=\"Search images and photos\"\r\n    />\r\n  </form>\r\n</header>\r\n    )\r\n}\r\nexport default  Searchbar;","import React from 'react';\r\nimport s from './imageGallery.module.css';\r\n\r\nexport default function ImageGallery ({children})  {\r\nreturn(\r\n<ul className={s.imageGallery} >\r\n {children}\r\n</ul>\r\n)}","import React from 'react';\r\nimport s from './imageGalleryItem.module.css';\r\n\r\nexport default function ImageGalleryItem ({photos, onClick})  {\r\n\r\nreturn(\r\n<>\r\n{photos.map (state =>(\r\n<li className={s.imageGalleryItem} key={state.id}  onClick={onClick}  >\r\n  <img src={state.webformatURL} lowsrc={state.largeImageURL}  alt={state.tags} className={s.imageGalleryItemImage}/>\r\n</li>\r\n))}\r\n</>\r\n)}\r\n\r\n","const key = '21938998-67fd96e5d4868b12a769f8729';\r\nlet page = 0\r\nfunction FetchPhoto(search) {\r\n  \r\nincrementPage()\r\n    return fetch(`https://pixabay.com/api/?q=${search}&page=${page}&key=${key}&image_type=photo&orientation=horizontal&per_page=12`).then(response => {\r\n      if (response.ok) {\r\n        return response.json();\r\n      }\r\n    });\r\n  }\r\n  \r\n  const api = {\r\n    FetchPhoto,\r\n    resetPage,\r\n    page\r\n  };\r\n  function incrementPage() {\r\n    page += 1;\r\n  }\r\n  \r\n function resetPage() {\r\n    page = 0;\r\n  }\r\n  export default api;","import React from 'react';\r\nimport s from './button.module.css';\r\n\r\nexport default  function Button ({onClick})  {\r\n\r\nreturn(\r\n  \r\n  <button onClick={onClick} className={s.button} id=\"more\">\r\n  Load more\r\n</button>\r\n  \r\n  )\r\n}","import React from 'react';\r\nimport {createPortal} from 'react-dom'\r\nimport s from './modal.module.css';\r\n\r\nconst modalRoot = document.querySelector('#modal-root')\r\n\r\nexport default  function Modal ({onChange, state})  {\r\n   const {largeImage, photos:{tags} } = state\r\n\r\n    return(\r\n        createPortal(\r\n            <div className={s.overlay}  >\r\n            <div className={s.modal} onChange={onChange}>\r\n              <img src={largeImage} alt={tags}  />\r\n            </div>\r\n            </div>, modalRoot)\r\n      )\r\n    }\r\n\r\n\r\n\r\n\r\n","import React from 'react';\nimport './App.css'\nimport Searchbar from './components/Searchbar/searchbar'\nimport ImageGallery from './components/ImageGallery/imageGallery'\nimport ImageGalleryItem from './components/ImageGalleryItem/imageGalleryItem'\nimport Loader from 'react-loader-spinner'\nimport API from '../src/components/Fetch/fetch';\nimport Button from './components/Button/button'\nimport Modal from './components/Modal/modal'\n\n\nexport default class App extends React.Component {\n   \n  state = {photos: [], errors:  null, loading: false, search: '', showModal: false, largeImage:''}\n\n componentDidMount () {\n    window.addEventListener('keydown', this.handleKeyDown);\n    window.addEventListener('click', this.handleMouseClick);\n   } \n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n    window.addEventListener('click', this.handleMouseClick);\n  } \n \nhandleKeyDown = (e) => {\n   if (e.code === 'Escape') {\n   this.toggleModal();\n  }\n}\n\nhandleMouseClick = (e) => {\n  if (this.state.showModal && e.target.tagName==='DIV') {\n    this.toggleModal();\n   }\n}\n\n  toggleModal = () =>{\n    this.setState({\n      showModal: false\n    })\n  }\n\n  handleSubmit = e => {\n    e.preventDefault();\n    API.resetPage()\n    this.setState({loading:true})\n    const form = e.target\n\n    API.FetchPhoto(this.state.search)\n      .then(photos => {\n        this.setState({\n          photos: photos.hits,\n          loading:false\n        });\n      })\n      .catch(error => this.setState({\n         errors: 'Повторите запрос',\n         loading:false\n        }));\n      form.reset();\n  };\n    \n   handleChange = (e) => {\n    this.setState({ search: e.target.value });\n  }\n\n  onMoreClick = () => {\n    API.FetchPhoto(this.state.search)\n    .then(photos => {\n      this.setState({\n        photos: [...this.state.photos, ...photos.hits],\n      });\n    })\n    .catch(errors => this.setState({ errors: 'Повторите запрос', loading:false })\n    )\n    .finally(() => {\n        window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: \"smooth\",\n        });\n      })\n};\n\n\nhandleOpenModal = e => {\n  if (e.currentTarget.tagName === 'LI') {\n    this.setState({\n      showModal: !this.state.showModal,\n      largeImage: e.target.lowsrc,\n    });\n  }\n};\n\nrender() {\n  const { showModal, photos, loading, errors } = this.state;\n    return (\n    <>\n    {showModal &&  (\n          <Modal onChange={this.handleKeyDown} state={this.state} />\n        )}\n    <Searchbar handleSubmit = {this.handleSubmit}  handleChange={this.handleChange} />\n    {loading && <Loader \n        type=\"Puff\"\n        color=\"#00BFFF\"\n        height={100}\n        width={100}\n        timeout={3000} className='loader'>\n        </Loader>}\n    <div className='container'>\n    {errors && <h2>Ошибка запроса</h2>}\n    <ImageGallery>\n    <ImageGalleryItem photos= {photos} onClick={this.handleOpenModal}/>\n    </ImageGallery>\n    {(photos.length!==0 && photos.length %12===0) && <Button onClick={this.onMoreClick}/>}\n    </div>\n    </>\n  )}}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport 'normalize.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGalleryItem\":\"imageGalleryItem_imageGalleryItem__fQHHh\",\"imageGalleryItemImage\":\"imageGalleryItem_imageGalleryItemImage__1zCtt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"modal_overlay__3iQKk\",\"modal\":\"modal_modal__3N83j\"};"],"sourceRoot":""}